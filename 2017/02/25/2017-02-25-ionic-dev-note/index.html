
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IONIC 2 å¼€å‘ç¬”è®° - ä¸‰Â·é’» TriDiamond</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="TriDiamond Blog ä¸‰é’» PHPåšå®¢ Laravel Ionic Frontend Backend,"> 
    <meta name="description" content="â€œThink like an artist, develop like an artisanâ€ by ä¸‰Â·é’» TriDiamond,å› ä¸ºIONIC2æ‰åˆšåˆšå¼€å§‹è¿›å…¥æ­£å¼ç‰ˆ, ä¸­æ–‡æ–‡æ¡£åŸºæœ¬éƒ½æ˜¯ä¸å…¨çš„, æˆ‘ç°åœ¨å¼€å‘éƒ½æ˜¯åœ¨çœ‹è‹±æ–‡æ–‡æ¡£åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤šæ–‡æ¡£æ²¡æœ‰æè¿°çš„é—®é¢˜, è€Œä¸”å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›æ¡†æ¶æœ¬èº«æ²¡æœ‰å®Œå–„çš„åŠŸèƒ½å’Œå­˜åœ¨çš„BUG,"> 
    <meta name="author" content="ä¸‰Â·é’» TriDiamond"> 
    <link rel="alternative" href="atom.xml" title="ä¸‰Â·é’» TriDiamond" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_2c4p9wqp87z.css">
    <link rel="stylesheet" href="/css/obsidian.css">
    <link rel="stylesheet" href="/css/tridiamond.css">
    <link rel="stylesheet" href="/css/animate.css">
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">ä¸‰Â·é’» TriDiamond</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="https://tridiamond.tech"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="icon-play"></div>
    <h3 class="subtitle">IONIC 2 å¼€å‘ç¬”è®°</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class= article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated bounceIn" style="
            animation-delay: 600ms;
            animation-duration: 800ms;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(https://s2.ax1x.com/2019/09/18/n7E8Wd.png);">
        </div>
        <div class="else">
            <p class="animated fadeInDown">äºŒæœˆ 25, 2017</p>
            <h3 class="animated fadeInDown"><a href="/2017/02/25/2017-02-25-ionic-dev-note/" title="IONIC 2 å¼€å‘ç¬”è®°">IONIC 2 å¼€å‘ç¬”è®°</a></h3>
            <p class="animated fadeInDown">å› ä¸ºIONIC2æ‰åˆšåˆšå¼€å§‹è¿›å…¥æ­£å¼ç‰ˆ, ä¸­æ–‡æ–‡æ¡£åŸºæœ¬éƒ½æ˜¯ä¸å…¨çš„, æˆ‘ç°åœ¨å¼€å‘éƒ½æ˜¯åœ¨çœ‹è‹±æ–‡æ–‡æ¡£åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤šæ–‡æ¡£æ²¡æœ‰æè¿°çš„é—®é¢˜, è€Œä¸”å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›æ¡†æ¶æœ¬èº«æ²¡æœ‰å®Œå–„çš„åŠŸèƒ½å’Œå­˜åœ¨çš„B...</p>
            
                <ul class="animated fadeInDown post-tags-list"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Angular-2/">Angular 2</a></li><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Hybird-App/">Hybird App</a></li><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Ionic-2/">Ionic 2</a></li></ul>
            
            <p class="article-count animated fadeInDown">
                <span>
                    <b class="iconfont icon-text2"></b>
                    775å­—
                </span>
                <span>
                    <b class="iconfont icon-timer__s"></b>
                    3åˆ†é’Ÿ
                </span>
            </p>
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                   â€œThink like an artist, develop like an artisanâ€ by ä¸‰Â·é’» TriDiamond
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown">
            <p>å› ä¸ºIONIC2æ‰åˆšåˆšå¼€å§‹è¿›å…¥æ­£å¼ç‰ˆ, ä¸­æ–‡æ–‡æ¡£åŸºæœ¬éƒ½æ˜¯ä¸å…¨çš„, æˆ‘ç°åœ¨å¼€å‘éƒ½æ˜¯åœ¨çœ‹è‹±æ–‡æ–‡æ¡£<br>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤šæ–‡æ¡£æ²¡æœ‰æè¿°çš„é—®é¢˜, è€Œä¸”å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›æ¡†æ¶æœ¬èº«æ²¡æœ‰å®Œå–„çš„åŠŸèƒ½å’Œå­˜åœ¨çš„BUG</p>
<p>æˆ‘ä¼šåœ¨è¿™ä¸ªæ—¥è®°é‡Œé¢è®°å½•ä¸€äº›æ–‡æ¡£æ²¡æœ‰å†™çš„, å’Œæˆ‘å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›å‘å’Œç»éªŒ, å¸Œæœ›å¯ä»¥å¸®åŠ©é‚£äº›åˆšåˆšæ¥è§¦IONIC2çš„ç¨‹åºçŒ¿ä»¬!</p>
<h2 id="APPé…ç½®"><a href="#APPé…ç½®" class="headerlink" title="APPé…ç½®"></a>APPé…ç½®</h2><h3 id="åŸŸåé…ç½®"><a href="#åŸŸåé…ç½®" class="headerlink" title="åŸŸåé…ç½®"></a>åŸŸåé…ç½®</h3><p>å› ä¸ºè·¨åŸŸé—®é¢˜ï¼Œåœ¨å¼€å‘æ—¶å¦‚æœè¦ç”¨åˆ°æœ¬åœ°ç¯å¢ƒè¿›è¡Œå¼€å‘(ionic serve)ï¼Œå¿…é¡»é…ç½®proxy</p>
<ul>
<li>Proxyä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <strong>ionic.config.json</strong></li>
</ul>
<ul>
<li>åªéœ€è¦æŠŠ<strong>proxyUrl</strong>æ”¹ä¸ºä½ æœ¬åœ°ç¯å¢ƒçš„APIåœ°å€</li>
</ul>
<pre><code class="javascript">{
  &quot;name&quot;: &quot;rlph&quot;,
  &quot;app_id&quot;: &quot;&quot;,
  &quot;v2&quot;: true,
  &quot;typescript&quot;: true,
  &quot;proxies&quot;: [
    {
      &quot;path&quot;: &quot;/api&quot;,
      &quot;proxyUrl&quot;: &quot;http://api.dev&quot;
    }
  ]
}</code></pre>
<ul>
<li>ç„¶åæŠŠAPIåœ°å€çš„å¸¸é‡åˆ¶å®šä¸º<strong>/api/</strong>è¿™ä¸ªproxy</li>
</ul>
<ul>
<li>åœ¨æ ¹ç›®å½•ä¸‹<strong>/src/config.ts</strong>é‡Œé¢æŠŠ<strong>â€œAPI_SERVERâ€</strong>çš„å€¼æ”¹ä¸º<strong>â€œ/api/â€œ</strong></li>
</ul>
<pre><code>  export let data = {
      &quot;API_SERVER&quot; : &quot;/api/&quot;
  }</code></pre><h3 id="ä¸Šçº¿APPé…ç½®"><a href="#ä¸Šçº¿APPé…ç½®" class="headerlink" title="ä¸Šçº¿APPé…ç½®"></a>ä¸Šçº¿APPé…ç½®</h3><ul>
<li>é¦–å…ˆä½ éœ€è¦é…ç½®çœŸæ˜¯æœåŠ¡å™¨APIåœ°å€<br>é…ç½®APIåœ°å€æ˜¯åœ¨æ ¹ç›®å½•ä¸‹<strong>/src/config.ts</strong>é‡Œé¢æŠŠ<strong>â€œAPI_SERVERâ€</strong>çš„å€¼æ”¹ä¸ºçº¿ä¸ŠAPIåœ°å€</li>
</ul>
<pre><code>  export let data = {
      &quot;API_SERVER&quot; : &quot;http://api.domain.com/&quot;
  }</code></pre><h2 id="å¼€å‘å¸¸è§é—®é¢˜"><a href="#å¼€å‘å¸¸è§é—®é¢˜" class="headerlink" title="å¼€å‘å¸¸è§é—®é¢˜"></a>å¼€å‘å¸¸è§é—®é¢˜</h2><h3 id="APP-run-å¤±è´¥"><a href="#APP-run-å¤±è´¥" class="headerlink" title="APP run å¤±è´¥"></a>APP run å¤±è´¥</h3><p>å½“è¿è¡Œ<strong>ionic run android</strong>çš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°è¯¥æŠ¥é”™ï¼š</p>
<pre><code>Error: Failed to install apk to device: [  1%] /data/local/tmp/android-debug.apk
[  2%] /data/local/tmp/android-debug.apk
...
[100%] /data/local/tmp/android-debug.apk
        pkg: /data/local/tmp/android-debug.apk
Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE]</code></pre><ul>
<li>æ­¤é—®é¢˜æ˜¯å› ä¸ºå·²æœ‰ç­¾åçš„APPå­˜åœ¨æ‰‹æœºä¸Šï¼Œ éœ€è¦æƒ³åˆ é™¤è¯¥APPæ‰èƒ½å®‰è£…æµ‹è¯•ï¼ˆdebugï¼‰ç‰ˆçš„apk</li>
<li>åœ¨cmdè¿è¡Œä»¥ä¸‹ä»£ç å³å¯è§£å†³é—®é¢˜ï¼š</li>
</ul>
<pre><code>adb uninstall my.package.id</code></pre><h3 id="Ionic-2-è‡ªå¸¦çš„nativeæ–‡ä»¶ä¸Šä¼ -FILE-TRANSFER-æ’ä»¶æ— æ³•è·å–æˆåŠŸè¿”å›å†…å®¹"><a href="#Ionic-2-è‡ªå¸¦çš„nativeæ–‡ä»¶ä¸Šä¼ -FILE-TRANSFER-æ’ä»¶æ— æ³•è·å–æˆåŠŸè¿”å›å†…å®¹" class="headerlink" title="Ionic 2 è‡ªå¸¦çš„nativeæ–‡ä»¶ä¸Šä¼ (FILE TRANSFER)æ’ä»¶æ— æ³•è·å–æˆåŠŸè¿”å›å†…å®¹"></a>Ionic 2 è‡ªå¸¦çš„nativeæ–‡ä»¶ä¸Šä¼ (FILE TRANSFER)æ’ä»¶æ— æ³•è·å–æˆåŠŸè¿”å›å†…å®¹</h3><p>è¿™ä¸ªæ˜¯Ionic 2 æ ¸å¿ƒä»£ç é‡Œé¢çš„ä¸€ä¸ªBUG, åœ¨ä¸€ä¸‹ç‰ˆæœ¬ä¸‹æ˜¯æœ‰é—®é¢˜çš„<br><strong>Ionic CLI Version: 2.2.1</strong></p>
<ul>
<li>é¦–å…ˆæ‰¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ä»¥ä¸‹è·¯å¾„é‡Œé¢çš„<strong>filetransfer.d.ts</strong>æ–‡ä»¶</li>
</ul>
<pre><code>node_modules\ionic-native\dist\es5\plugins\filetransfer.d.ts
node_modules\ionic-native\dist\esm\plugins\filetransfer.d.ts</code></pre><ul>
<li>åˆ†åˆ«ä¿®æ”¹ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶é‡Œé¢çš„ä»£ç </li>
</ul>
<pre><code>//æŠŠè¿™ä¸€è¡Œ:
upload(fileUrl: string, url: string, options?: FileUploadOptions, trustAllHosts?: boolean): Promise&lt;FileUploadResult | FileTransferError&gt;
//æ”¹ä¸º: 
upload(fileUrl: string, url: string, options?: FileUploadOptions, trustAllHosts?: boolean): Promise&lt;FileUploadResult&gt;</code></pre><h3 id="åœ¨å®‰å“ä¸‹ä½¿ç”¨ç›¸å†Œé€‰æ‹©æ—¶-è¿”å›çš„å›¾ç‰‡è·¯å¾„ä¸èƒ½å†æ˜¾ç¤ºé—®é¢˜"><a href="#åœ¨å®‰å“ä¸‹ä½¿ç”¨ç›¸å†Œé€‰æ‹©æ—¶-è¿”å›çš„å›¾ç‰‡è·¯å¾„ä¸èƒ½å†æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="åœ¨å®‰å“ä¸‹ä½¿ç”¨ç›¸å†Œé€‰æ‹©æ—¶, è¿”å›çš„å›¾ç‰‡è·¯å¾„ä¸èƒ½å†æ˜¾ç¤ºé—®é¢˜"></a>åœ¨å®‰å“ä¸‹ä½¿ç”¨ç›¸å†Œé€‰æ‹©æ—¶, è¿”å›çš„å›¾ç‰‡è·¯å¾„ä¸èƒ½å†æ˜¾ç¤ºé—®é¢˜</h3><ul>
<li>é¦–å…ˆåœ¨è¿™ä¸ªä¾‹å­ä½¿ç”¨çš„æ˜¯cordova-plugin-cameraç»„ä»¶(Cordovaçš„ç›¸æœºæ’ä»¶)</li>
<li>é¦–å…ˆå¼•å…¥éœ€è¦çš„ç±»</li>
<li>FilePath è¿™ä¸ªç±»å°±æ˜¯ç”¨æ¥ä¿®å¤å®‰å“ä¸Šå›¾ç‰‡URIçš„é—®é¢˜çš„</li>
</ul>
<pre><code class="typescript">import { Camera, File, FilePath } from &#39;ionic-native&#39;;</code></pre>
<ul>
<li>ä½¿ç”¨ FilePath.resolveNativePath(imagePath) è¿™ä¸ªæ–¹æ³•æ¥çº æ­£å›¾ç‰‡URI</li>
</ul>
<pre><code class="typescript">Camera.getPicture(options).then((imagePath) =&gt; {
 // ç‰¹æ®Šå®‰å“å›¾ç‰‡åº“çš„å¤„ç†
 this.nativeFilePath = imagePath;
 if (this.pl.is(&#39;android&#39;) &amp;&amp; sourceType === Camera.PictureSourceType.PHOTOLIBRARY) {
   FilePath.resolveNativePath(imagePath)
   .then(filePath =&gt; {
       this.nativeFilePath = filePath;
       let currentName = imagePath.substring(imagePath.lastIndexOf(&#39;/&#39;) + 1, imagePath.lastIndexOf(&#39;?&#39;));
   });
 } else {
   var currentName = imagePath.substr(imagePath.lastIndexOf(&#39;/&#39;) + 1);
 }
}, err =&gt; {
 // this.presentToast(&#39;é€‰æ‹©å›¾ç‰‡å¤±è´¥.&#39;);
});</code></pre>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='/statics/chengdu.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
        data-ae='false'
        data-ci='ec894e2b66f752e8b7fb'
        data-cs='3ccc2e92bb350688fe2c2dc2930189b62622bfb1'
        data-r='TriDiamondBlog'
        data-o='TriDiamond'
        data-a='TriDiamond'
        data-d='false'
    >æŸ¥çœ‹è¯„è®º</div>


    </div>
    
</div>


    </div>
</div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2019
        <span class="gradient-text">
            ä¸‰Â·é’» TriDiamond
        </span>.
        ğŸ’ | Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme <span class="gradient-text"><a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a></span>
    </p>
</footer>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Highlight.js -->
    <link rel="stylesheet" href="/css/dracula.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/highlight.min.js">
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>

</html>
