import{a6 as $,d as P,S as R,a1 as C,u as q,A as z,O as y,e as F,a7 as V,a8 as A,a9 as M,_ as N,f as O,o as U,c as B,g as D,l as v}from"./index_prod-7a7a95b2.js";const E=({appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o,requiredFields:_,avatarForce:t,path:n})=>{new Valine({el:"#vcomments",appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o??[],requiredFields:_??[],avatarForce:t,path:$(n)})},k={en:"en",cn:"zh"},K=P({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{SubTitle:R},setup(s){const u=C(s).title,h=C(s).body,f=C(s).uid,e=q(),d=z();let o;const _=(t,n,c)=>{const S=!t||t===""?"":t,x=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,I=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:c;if(d.setCache({title:t,body:n,uid:c}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const i=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:a,clientSecret:l,repo:p,owner:g,admin:r,language:m}=e.themeConfig.plugins.gitalk;V({clientID:a,clientSecret:l,repo:p,owner:g,admin:r,language:m,uid:I,title:S,body:x,proxy:i})}else if(e.themeConfig.plugins.valine.enable){const{app_id:i,app_key:a,avatar:l,placeholder:p,visitor:g,lang:r,meta:m,requiredFields:w,avatarForce:b}=e.themeConfig.plugins.valine;E({appId:i,appKey:a,avatar:l,placeholder:p,visitor:g,lang:r,meta:m,requiredFields:w,avatarForce:b,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:i,region:a,lang:l}=e.themeConfig.plugins.twikoo;A({envId:i,region:a,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:i,login:a,reaction:l,meta:p,requiredMeta:g,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b}=e.themeConfig.plugins.waline;o=M({serverURL:i,lang:k[e.locale??"en"],login:a,reaction:l,meta:p,requiredMeta:g,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b})}}};y(()=>e.configReady,(t,n)=>{if(!n&&t){const c=d.cachePost;_(c.title,c.body,c.uid)}}),y(()=>e.locale,(t,n)=>{o&&t!==void 0&&t!==n&&o.update({lang:k[t]})}),F(()=>{_(u.value,h.value,f.value)})}});const T={class:"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0"},j=v("div",{id:"gitalk-container"},null,-1),G=v("div",{id:"vcomments"},null,-1),H=v("div",{id:"tcomment"},null,-1),J=v("div",{id:"waline"},null,-1);function L(s,u,h,f,e,d){const o=O("SubTitle");return U(),B("div",T,[D(o,{title:"titles.comment"},null,8,["title"]),j,G,H,J])}const W=N(K,[["render",L]]);export{W as C};
