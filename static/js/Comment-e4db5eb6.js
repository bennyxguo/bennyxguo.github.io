import{a6 as $,d as P,S as R,a1 as C,h as q,A as z,W as y,b as F,a7 as V,a8 as A,a9 as M,_ as N,e as U,o as B,c as D,f as E,l as v}from"./index_prod-22e5b343.js";const K=({appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o,requiredFields:_,avatarForce:t,path:n})=>{new Valine({el:"#vcomments",appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o??[],requiredFields:_??[],avatarForce:t,path:$(n)})},k={en:"en",cn:"zh"},O=P({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{SubTitle:R},setup(s){const u=C(s).title,h=C(s).body,f=C(s).uid,e=q(),d=z();let o;const _=(t,n,c)=>{const S=!t||t===""?"":t,x=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,I=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:c;if(d.setCache({title:t,body:n,uid:c}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const i=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:a,clientSecret:l,repo:p,owner:r,admin:g,language:m}=e.themeConfig.plugins.gitalk;V({clientID:a,clientSecret:l,repo:p,owner:r,admin:g,language:m,uid:I,title:S,body:x,proxy:i})}else if(e.themeConfig.plugins.valine.enable){const{app_id:i,app_key:a,avatar:l,placeholder:p,visitor:r,lang:g,meta:m,requiredFields:w,avatarForce:b}=e.themeConfig.plugins.valine;K({appId:i,appKey:a,avatar:l,placeholder:p,visitor:r,lang:g,meta:m,requiredFields:w,avatarForce:b,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:i,region:a,lang:l}=e.themeConfig.plugins.twikoo;A({envId:i,region:a,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:i,login:a,reaction:l,meta:p,requiredMeta:r,commentSorting:g,wordLimit:m,imageUploader:w,pageSize:b}=e.themeConfig.plugins.waline;o=M({serverURL:i,lang:k[e.locale??"en"],login:a,reaction:l,meta:p,requiredMeta:r,commentSorting:g,wordLimit:m,imageUploader:w,pageSize:b})}}};y(()=>e.configReady,(t,n)=>{if(!n&&t){const c=d.cachePost;_(c.title,c.body,c.uid)}}),y(()=>e.locale,(t,n)=>{o&&t!==void 0&&t!==n&&o.update({lang:k[t]})}),F(()=>{_(u.value,h.value,f.value)})}});const T={class:"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0"},W=v("div",{id:"gitalk-container"},null,-1),j=v("div",{id:"vcomments"},null,-1),G=v("div",{id:"tcomment"},null,-1),H=v("div",{id:"waline"},null,-1);function J(s,u,h,f,e,d){const o=U("SubTitle");return B(),D("div",T,[E(o,{title:"titles.comment"},null,8,["title"]),W,j,G,H])}const Q=N(O,[["render",J]]);export{Q as C};
