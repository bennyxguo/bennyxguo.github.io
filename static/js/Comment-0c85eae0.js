import{d as $,B as R,$ as C,C as q,i as z,K as y,b as F,a1 as P,a2 as V,a3 as B,_ as K,e as M,o as N,c as U,f as A,g as v}from"./index_prod-296a9076.js";const D=({appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o,requiredFields:_,avatarForce:t,path:n})=>{new Valine({el:"#vcomments",appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o??[],requiredFields:_??[],avatarForce:t,path:n})},k={en:"en",cn:"zh"},E=$({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{SubTitle:R},setup(s){const u=C(s).title,h=C(s).body,f=C(s).uid,e=q(),d=z();let o;const _=(t,n,c)=>{const S=!t||t===""?"":t,x=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,I=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:c;if(d.setCache({title:t,body:n,uid:c}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const i=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:a,clientSecret:l,repo:g,owner:p,admin:r,language:m}=e.themeConfig.plugins.gitalk;P({clientID:a,clientSecret:l,repo:g,owner:p,admin:r,language:m,uid:I,title:S,body:x,proxy:i})}else if(e.themeConfig.plugins.valine.enable){const{app_id:i,app_key:a,avatar:l,placeholder:g,visitor:p,lang:r,meta:m,requiredFields:w,avatarForce:b}=e.themeConfig.plugins.valine;D({appId:i,appKey:a,avatar:l,placeholder:g,visitor:p,lang:r,meta:m,requiredFields:w,avatarForce:b,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:i,region:a,lang:l}=e.themeConfig.plugins.twikoo;V({envId:i,region:a,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:i,login:a,reaction:l,meta:g,requiredMeta:p,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b}=e.themeConfig.plugins.waline;o=B({serverURL:i,lang:k[e.locale??"en"],login:a,reaction:l,meta:g,requiredMeta:p,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b})}}};y(()=>e.configReady,(t,n)=>{if(!n&&t){const c=d.cachePost;_(c.title,c.body,c.uid)}}),y(()=>e.locale,(t,n)=>{console.log(t,n),o&&t!==void 0&&t!==n&&o.update({lang:k[t]})}),F(()=>{_(u.value,h.value,f.value)})}});const O={class:"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0"},T=v("div",{id:"gitalk-container"},null,-1),j=v("div",{id:"vcomments"},null,-1),G=v("div",{id:"tcomment"},null,-1),H=v("div",{id:"waline"},null,-1);function J(s,u,h,f,e,d){const o=M("SubTitle");return N(),U("div",O,[A(o,{title:"titles.comment"},null,8,["title"]),T,j,G,H])}const W=K(E,[["render",J]]);export{W as C};
