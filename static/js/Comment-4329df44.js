import{aa as $,d as q,T as z,a5 as C,j as P,E as R,$ as y,f as F,ab as V,ac as E,ad as M,_ as N,g as T,o as U,c as j,h as A,p as v}from"./index_prod-05c3b0ca.js";const B=({appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o,requiredFields:_,avatarForce:t,path:n})=>{new Valine({el:"#vcomments",appId:s,appKey:u,avatar:h,placeholder:f,visitor:e,lang:d,meta:o??[],requiredFields:_??[],avatarForce:t,path:$(n)})},x={en:"en",cn:"zh"},D=q({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{Title:z},setup(s){const u=C(s).title,h=C(s).body,f=C(s).uid,e=P(),d=R();let o;const _=(t,n,c)=>{const k=!t||t===""?"":t,S=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,I=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:c;if(d.setCache({title:t,body:n,uid:c}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const i=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:a,clientSecret:l,repo:p,owner:g,admin:r,language:m}=e.themeConfig.plugins.gitalk;V({clientID:a,clientSecret:l,repo:p,owner:g,admin:r,language:m,uid:I,title:k,body:S,proxy:i})}else if(e.themeConfig.plugins.valine.enable){const{app_id:i,app_key:a,avatar:l,placeholder:p,visitor:g,lang:r,meta:m,requiredFields:w,avatarForce:b}=e.themeConfig.plugins.valine;B({appId:i,appKey:a,avatar:l,placeholder:p,visitor:g,lang:r,meta:m,requiredFields:w,avatarForce:b,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:i,region:a,lang:l}=e.themeConfig.plugins.twikoo;E({envId:i,region:a,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:i,login:a,reaction:l,meta:p,requiredMeta:g,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b}=e.themeConfig.plugins.waline;o=M({serverURL:i,lang:x[e.locale??"en"],login:a,reaction:l,meta:p,requiredMeta:g,commentSorting:r,wordLimit:m,imageUploader:w,pageSize:b})}}};y(()=>e.configReady,(t,n)=>{if(!n&&t){const c=d.cachePost;_(c.title,c.body,c.uid)}}),y(()=>e.locale,(t,n)=>{o&&t!==void 0&&t!==n&&o.update({lang:x[t]})}),F(()=>{_(u.value,h.value,f.value)})}});const K={class:"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0"},O=v("div",{id:"gitalk-container"},null,-1),G=v("div",{id:"vcomments"},null,-1),H=v("div",{id:"tcomment"},null,-1),J=v("div",{id:"waline"},null,-1);function L(s,u,h,f,e,d){const o=T("Title");return U(),j("div",K,[A(o,{title:"titles.comment",icon:"quote",paddings:"pb-2 pt-0","text-size":"text-2xl md:text-3xl"},null,8,["title"]),O,G,H,J])}const W=N(D,[["render",L]]);export{W as C};
