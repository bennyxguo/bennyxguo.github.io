import{d as T,P as k,k as C,B,b as S,r as b,C as w,D as I,E as P,s as $,_ as A,f as m,o as i,c as l,l as t,g as u,t as s,F as _,m as y,G as H,H as x,I as D}from"./index_prod-d64bafc2.js";import{B as E}from"./Breadcrumbs-2c8fbbe3.js";import{u as F}from"./usePageTitle-4afc5f75.js";import"https://unpkg.com/@waline/client@v2/dist/waline.mjs";const N=T({name:"Archives",components:{Breadcrumbs:E,Paginator:k},setup(){const e=C(),g=B(),{t:v}=S(),r=b(new w().data),n=b({pageTotal:0,page:1}),{pageTitle:f,updateTitle:d}=F(),c=async()=>{const a=await g.fetchArchives(n.value.page);n.value.pageTotal=a.total,r.value=a.data,e.setHeaderImage($),d()},p=a=>{n.value.page=a,window.scrollTo({top:0,behavior:"smooth"}),c()};return I(c),P(()=>{e.resetHeaderImage()}),{pageTitle:f,pageChangeHandler:p,pagination:n,archives:r,t:v}}});const h=e=>(x("data-v-7beaea4c"),e=e(),D(),e),V={class:"flex flex-col"},z={class:"post-header"},G={class:"post-title text-white uppercase"},L={class:"bg-ob-deep-800 px-14 py-16 rounded-2xl shadow-xl block min-h-screen"},M={class:"timeline timeline-centered"},U={class:"timeline-item period"},j=h(()=>t("div",{class:"timeline-info"},null,-1)),q=h(()=>t("div",{class:"timeline-marker"},null,-1)),J={class:"timeline-content"},K={class:"timeline-title"},O={class:"timeline-info"},Q=h(()=>t("div",{class:"timeline-marker"},null,-1)),R={class:"timeline-content"},W={class:"timeline-title"};function X(e,g,v,r,n,f){const d=m("Breadcrumbs"),c=m("router-link"),p=m("Paginator");return i(),l("div",V,[t("div",z,[u(d,{current:e.pageTitle},null,8,["current"]),t("h1",G,s(e.pageTitle),1)]),t("div",L,[t("ul",M,[(i(!0),l(_,null,y(e.archives,a=>(i(),l(_,{key:`${a.month}-${a.year}}`},[t("li",U,[j,q,t("div",J,[t("h2",K,s(e.t(a.month))+" "+s(a.year),1)])]),(i(!0),l(_,null,y(a.posts,o=>(i(),l("li",{class:"timeline-item",key:o.slug},[t("div",O,[t("span",null,s(e.t(o.date.month))+" "+s(o.date.day)+", "+s(o.date.year),1)]),Q,t("div",R,[u(c,{to:{name:"post",params:{slug:o.slug}}},{default:H(()=>[t("h3",W,s(o.title),1)]),_:2},1032,["to"]),t("p",null,s(o.text),1)])]))),128))],64))),128))]),u(p,{pageSize:12,pageTotal:e.pagination.pageTotal,page:e.pagination.page,onPageChange:e.pageChangeHandler},null,8,["pageTotal","page","onPageChange"])])])}const ae=A(N,[["render",X],["__scopeId","data-v-7beaea4c"]]);export{ae as default};
