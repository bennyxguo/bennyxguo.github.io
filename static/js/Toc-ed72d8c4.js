import{d as f,r as s,_ as g,o as y,c as T,g as a,a0 as B,a4 as $,a5 as m,s as E,a6 as C,e as h,f as d,B as _,$ as x,x as v,W as k,y as I,w,L as R,M as b,N as z}from"./index_prod-9412c206.js";const N=f({name:"ObSticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""},stickyBottom:{type:Number,default:0},endingElId:{type:String,default:""},dynamicElClass:{type:String,default:""}},setup(){let t=s(!1),e=s(""),o=s(),c=s(),r=s(!1),n=s(0),l=s(0),i=s(!1);return{active:t,position:e,width:o,height:c,isSticky:r,newTop:n,top:l,isBottom:i}},mounted(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated(){this.handleScroll()},unmounted(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky(t,e){this.active||(this.top=t,this.position=e,this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset(){this.active&&this.reset()},reset(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll(){setTimeout(()=>{const t=document.documentElement.scrollHeight,e=this.$el.getBoundingClientRect().width,o=this.$el.getBoundingClientRect().height;if(this.dynamicElClass!==""){const u=this.$el.querySelector(this.dynamicElClass);this.height=u.getBoundingClientRect().height||o}const c=window.scrollY;this.width=e||"auto";const r=this.$el.getBoundingClientRect().top,n=this.endingElId!==""?document.getElementById(this.endingElId):null,l=document.getElementById("App-Wrapper"),i=parseInt(window.getComputedStyle(l||document.documentElement).paddingBottom,10),p=n&&n instanceof HTMLElement?t-c-o-this.stickyTop-this.stickyBottom-n.getBoundingClientRect().height-i:t;if(r<this.stickyTop){this.active=!1,p<=0?(this.isBottom=!0,this.sticky(-1,"absolute")):(this.isBottom=!1,this.sticky(this.stickyTop,"fixed"));return}this.handleReset()},16)},handleResize(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),j=a("div",null,"sticky",-1);function L(t,e,o,c,r,n){return y(),T("div",{id:"sticky",style:m({height:t.height+"px",zIndex:t.zIndex})},[a("div",{class:$(t.className),style:m({top:t.isSticky?t.top===-1?"initial":t.top+"px":"",bottom:t.isBottom?0:"initial",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+"px"})},[B(t.$slots,"default",{},()=>[j])],6)],4)}const H=g(N,[["render",L]]),M=f({name:"Navigator",components:{SvgIcon:E},setup(){const t=C(),e=s(0),o=s();return{goBack:()=>{t.back()},backToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},jumpToComments:()=>{o.value=document.getElementById("comments"),o.value&&(e.value=o.value&&o.value instanceof HTMLElement?o.value.offsetTop+120-30:0),window.scrollTo({top:e.value,behavior:"smooth"})}}}}),D={id:"sidebar-navigator",class:"flex flex-row bg-ob-deep-800 rounded-xl shadow-2xl justify-items-center overflow-hidden"};function O(t,e,o,c,r,n){const l=h("SvgIcon");return y(),T("ul",D,[a("li",{class:"border-r-4 border-ob-deep-900 flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[0]||(e[0]=(...i)=>t.goBack&&t.goBack(...i))},[d(l,{class:"inline-block text-3xl","icon-class":"go-back"})]),a("li",{class:"border-r-4 border-ob-deep-900 flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[1]||(e[1]=(...i)=>t.backToTop&&t.backToTop(...i))},[d(l,{class:"inline-block text-3xl","icon-class":"back-to-top"})]),a("li",{class:"flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[2]||(e[2]=(...i)=>t.jumpToComments&&t.jumpToComments(...i)),"data-dia":"jump-to-comment"},[d(l,{class:"inline-block text-3xl","icon-class":"quote"})])])}const q=g(M,[["render",O],["__scopeId","data-v-5c2edb2b"]]),V=f({name:"ObTOC",components:{SubTitle:_,Sticky:H,Navigator:q},props:{toc:String},setup(t){const e=x(t).toc;return{tocData:e,showToc:v(()=>!(e!==void 0&&e.value==="")),sideBoxStyle:v(()=>({maxHeight:`${window.innerHeight-64-64-52-74}px`,overflowY:"scroll",overflowX:"hidden"}))}}}),W={id:"sticky-sidebar"},Y={class:"sidebar-box mb-4"},A=["innerHTML"];function P(t,e,o,c,r,n){const l=h("SubTitle"),i=h("Navigator"),p=h("Sticky"),u=k("scroll-spy-active"),S=k("scroll-spy-link");return y(),I(p,{stickyTop:32,endingElId:"footer",dynamicElClass:"#sticky-sidebar"},{default:w(()=>[a("div",W,[d(R,{name:"fade-slide-y",mode:"out-in"},{default:w(()=>[b(a("div",Y,[d(l,{title:"titles.toc",icon:"toc"},null,8,["title"]),b(a("div",{innerHTML:t.tocData,style:m(t.sideBoxStyle)},null,12,A),[[u,{selector:".toc-item"}],[S]])],512),[[z,t.showToc]])]),_:1}),d(i)])]),_:1})}const F=g(V,[["render",P]]);export{F as T};
