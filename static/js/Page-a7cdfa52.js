import{u as h,P as b}from"./article-473cd665.js";import{d as v,u as S,O as B,r as g,y as T,b as D,z as w,Q as y,D as A,i as f,n as $,_ as k,f as i,o as C,c as P,g as l,G as I,x as M}from"./index_prod-d64bafc2.js";import{P as N}from"./PageContent-74a3e5f5.js";import{B as V}from"./Breadcrumbs-2c8fbbe3.js";import{C as z}from"./Comment-f6b897f6.js";import"https://unpkg.com/@waline/client@v2/dist/waline.mjs";import"./PostStats-4fbab743.js";import"./Toc-efc74fb5.js";const E=v({name:"Page",components:{PageContent:N,Breadcrumbs:V,Comment:z},setup(){const e=h(),n=S(),u=B(),a=g(new b),s=T(),{t:p}=D(),o=g(),{enabledCommentPlugin:r}=w(),m=async()=>{const t=await e.fetchArticle(String(s.params.slug));a.value=t,o.value=t.title,d(n.locale),await $(),Prism.highlightAll()},d=t=>{const _=t==="cn"?"cn":"en",c=n.themeConfig.menu.menus[String(s.params.slug)];o.value=c.i18n&&c.i18n[_]||c.name,u.setTitle(o.value)};return y(()=>n.locale,t=>{t&&d(t)}),A(m),{enabledComment:f(()=>a.value.comments&&r.value.plugin!==""),pageTitle:f(()=>o.value),pageData:a,t:p}}}),G={key:0,id:"comments"};function L(e,n,u,a,s,p){const o=i("Breadcrumbs"),r=i("Comment"),m=i("PageContent");return C(),P("div",null,[l(o,{current:e.pageTitle},null,8,["current"]),l(m,{post:e.pageData,title:e.pageTitle},{default:I(()=>[e.enabledComment?(C(),P("div",G,[l(r,{title:e.pageData.title,body:e.pageData.text,uid:e.pageData.uid},null,8,["title","body","uid"])])):M("",!0)]),_:1},8,["post","title"])])}const J=k(E,[["render",L]]);export{J as default};
