import{P as O}from"./PostStats-73c32cd7.js";import{d as f,_ as v,f as r,o as e,c as o,h as _,u as x,i as y,t as k,j as B,T as A,b as S,k as q,l as n,g as c,F as b,m as $,p as P,w as j,q as D,s as E,v as M,x as R,S as N,r as w,y as V,e as H,n as J}from"./index_prod-7a7a95b2.js";import{u as F,P as I}from"./article-96f7a79f.js";import{C as W}from"./Comment-ce150b3e.js";import{B as G}from"./Breadcrumbs-4181d849.js";import{u as K}from"./usePageTitle-bfec2d78.js";import"https://unpkg.com/@waline/client@v2/dist/waline.mjs";const Q=f({name:"ARLinkAvatar",components:{},props:{title:String,link:String,source:{type:String}},setup(){}}),U=["href","title"],X=["src","title"];function Y(t,s,d,u,g,h){const l=r("ob-skeleton");return e(),o("a",{class:"links-group-avatar h-[120px] w-[120px] flex items-center justify-center text-white text-6xl font-bold",href:t.link,target:"_blank",title:t.title},[t.source?(e(),o("img",{key:0,class:"h-full w-full shadow-xl m-0 rounded-full",src:t.source,alt:"link-avatar",title:t.title},null,8,X)):(e(),_(l,{key:1,width:"7rem",height:"7rem",circle:""}))],8,U)}const Z=v(Q,[["render",Y]]),tt=f({name:"ARPrimaryButton",components:{},props:{text:String},setup(){const t=x();return{gradientBackground:y(()=>({background:t.themeConfig.theme.header_gradient_css}))}}});function et(t,s,d,u,g,h){return e(),o("a",{class:"py-2 px-3 text-white flex items-center justify-center z-10 transition cursor-pointer rounded-xl font-semibold select-none",style:B(t.gradientBackground)},k(t.text),5)}const nt=v(tt,[["render",et]]),ot=f({name:"ARSecondaryButton",components:{},props:{text:String},setup(){}}),st={class:"py-2 px-3 text-ob-bright flex items-center justify-center z-10 transition cursor-pointer rounded-xl bg-ob-deep-900 border-solid border-ob-bright border-t-2 border-b-2 border-r-2 border-l-2 opacity-80 select-none"};function at(t,s,d,u,g,h){return e(),o("a",st,k(t.text),1)}const it=v(ot,[["render",at]]),rt=f({name:"ARLinkBox",components:{LinkAvatar:Z,Title:A,PrimaryButton:nt,SecondaryButton:it},emits:["onApplyClicked"],props:{gradientBackground:{type:Object,default:"",required:!0},data:{type:Object,default:[],required:!0}},setup(t,{emit:s}){const{t:d}=S(),u=q();return{applyClicked:()=>{s("onApplyClicked")},randomJump:()=>{u.sendNotification(d("settings.notification-random-jump")),setTimeout(()=>{const a=t.data[Math.floor(Math.random()*24)][Math.floor(Math.random()*2)];window.open(a.link,"_blank")},6e3)},t:d}}});const lt={class:"ob-gradient-plate absolute bg-ob-deep-900 rounded-xl opacity-90 flex justify-center items-center shadow-lg hover:shadow-2xl duration-300 overflow-hidden"},ct={class:"flex w-full relative overflow-hidden"},dt={class:"top-6 left-6 absolute flex flex-col"},pt={class:"text-ob-dim text-sm"},ut={class:"absolute right-8 top-8 flex space-x-3"},mt={class:"link-group-wrapper flex flex-nowrap pt-28 left-0 top-0"},gt={class:"links-group-avatar-pair ml-4 pb-7 pt-4 select-none"},ht={class:"links-group-avatar-pair ml-4 pb-7 pt-4 select-none"};function kt(t,s,d,u,g,h){const l=r("Title"),a=r("SecondaryButton"),i=r("PrimaryButton"),p=r("LinkAvatar");return e(),o("div",{class:"flex h-[25rem] w-full rounded-2xl relative shadow-xl mb-8",style:B(t.gradientBackground)},[n("div",lt,[n("div",ct,[n("div",dt,[n("div",pt,k(t.t("settings.links")),1),c(l,{title:"settings.links-slogan",icon:"friends","text-size":"text-2xl",paddings:"pb-2",margins:"mb-0 mt-0"})]),n("div",ut,[c(a,{text:t.t("settings.links-random-visit"),onClick:s[0]||(s[0]=m=>t.randomJump())},null,8,["text"]),c(i,{text:t.t("settings.links-apply"),onClick:s[1]||(s[1]=m=>t.applyClicked())},null,8,["text"])]),n("div",mt,[t.data.length===0?(e(),o(b,{key:0},$(48,m=>n("div",gt,[c(p),c(p)])),64)):(e(!0),o(b,{key:1},$(t.data,m=>(e(),o("div",ht,[c(p,{title:m[0].nick,link:m[0].link,source:m[0].avatar},null,8,["title","link","source"]),c(p,{title:m[1].nick,link:m[1].link,source:m[1].avatar},null,8,["title","link","source"])]))),256))])])])],4)}const _t=v(rt,[["render",kt]]),ft=f({name:"ARLinkCard",components:{},props:{avatar:String,link:String,nick:String,description:String,type:String,vip:Boolean,categoryMode:Boolean},setup(t){const s=x(),{t:d}=S();return{t:d,titleStyle:{"text-xl":!0,"vip-text":!!t.vip},gradientBackground:y(()=>({background:s.themeConfig.theme.header_gradient_css})),articleClasses:y(()=>({"article-container":!0,highlighted:!!t.vip,"category-mode":!!t.categoryMode}))}}});const vt={class:"article"},yt={class:"article-thumbnail"},bt={key:0,alt:""},$t={key:1,src:E},Ct={class:"article-content"},Lt={key:0},wt=["href"],Bt={key:0};function St(t,s,d,u,g,h){const l=r("ob-skeleton"),a=P("lazy");return e(),o("li",{id:"link-card",class:D(t.articleClasses)},[n("div",vt,[n("div",yt,[t.avatar?j((e(),o("img",bt,null,512)),[[a,t.avatar]]):(e(),o("img",$t)),n("span",{class:"thumbnail-screen",style:B(t.gradientBackground)},null,4)]),n("div",Ct,[n("span",null,[t.type&&!t.vip?(e(),o("b",Lt,k(t.t(t.type)),1)):t.type&&t.vip?(e(),o("b",{key:1,class:"vip",style:B(t.gradientBackground)},k(t.t(t.type)),5)):(e(),_(l,{key:2,tag:"b",height:"20px",width:"35px"}))]),n("a",{href:t.link,target:"_blank"},[n("h1",{class:D(t.titleStyle)},k(t.nick),3)],8,wt),t.description?(e(),o("p",Bt,k(t.description),1)):(e(),_(l,{key:1,tag:"p",count:4,height:"16px"}))])])],2)}const z=v(ft,[["render",St]]),Tt=f({name:"ARLinkCategory",components:{LinkCard:z,Title:A},props:{links:{type:Object,default:{}}},setup(){const{t}=S();return{t,convertToLocale:M}}}),xt={class:"text-ob-dim mb-8 text-lg"},At={class:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-8"};function Dt(t,s,d,u,g,h){const l=r("Title"),a=r("LinkCard");return t.links?(e(!0),o(b,{key:0},$(Object.keys(t.links),i=>(e(),o(b,null,[c(l,{title:t.convertToLocale(i),count:t.links[i].length,margins:"mb-2"},null,8,["title","count"]),n("span",xt,k(t.t(`${t.convertToLocale(i)}-desc`)),1),n("ul",At,[(e(!0),o(b,null,$(t.links[i],p=>(e(),_(a,{nick:p.nick,link:p.link,avatar:p.avatar,description:p.description,type:t.convertToLocale(p.label),vip:p.label==="links-badge-vip","category-mode":!0},null,8,["nick","link","avatar","description","type","vip"]))),256))])],64))),256)):R("",!0)}const Pt=v(Tt,[["render",Dt]]),jt=f({name:"ARLinkList",components:{SubTitle:N},props:{links:{type:Array,default:[],required:!0}},setup(){return{convertToLocale:M}}}),Mt={class:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-8"};function Rt(t,s,d,u,g,h){const l=r("Title"),a=r("LinkCard");return e(),o("div",null,[c(l,{title:"settings.links",icon:"friends",count:t.links.length},null,8,["count"]),n("ul",Mt,[(e(!0),o(b,null,$(t.links,i=>(e(),_(a,{nick:i.nick,link:i.link,avatar:i.avatar,description:i.description,type:t.convertToLocale(i.label),vip:i.label==="links-badge-vip"},null,8,["nick","link","avatar","description","type","vip"]))),256))])])}const zt=v(jt,[["render",Rt]]),Ot=f({name:"Links",components:{PostStats:O,LinkBox:_t,LinkCard:z,Title:A,LinkCategoryList:Pt,LinkList:zt,Comment:W,Breadcrumbs:G},setup(){const t=F(),s=x(),d=w(new I),u=w(),g=V(),{t:h}=S(),l=w(0),a=w(),{pageTitle:i,updateTitle:p}=K(),m=async()=>{var C,L;d.value=await t.fetchArticle("friends"),p(s.locale),await J(),(C=u.value)==null||C.getCommentCount(),(L=u.value)==null||L.getPostView(),Prism.highlightAll()},T=()=>{a.value=document.getElementById("content"),a.value&&(l.value=a.value&&a.value instanceof HTMLElement?a.value.offsetTop+120-30:0),window.scrollTo({top:l.value,behavior:"smooth"})};return H(m),{currentPath:y(()=>g.path),pluginConfigs:y(()=>s.themeConfig.plugins),gradientBackground:y(()=>({background:s.themeConfig.theme.header_gradient_css})),pageTitle:i,jumpToComments:T,postStatsRef:u,pageData:d,t:h}}}),qt={class:"flex flex-col"},Et={class:"post-header"},Nt={key:0,class:"post-title text-white uppercase"},Vt={class:"flex flex-row items-center justify-start mt-8 mb-4"},Ht={class:"mt-8",id:"content"},Jt=["innerHTML"],Ft={key:1,class:"bg-ob-deep-800 px-14 py-16 rounded-2xl shadow-xl block min-h-screen"},It=n("br",null,null,-1),Wt=n("br",null,null,-1),Gt=n("br",null,null,-1),Kt={key:2,id:"comments"};function Qt(t,s,d,u,g,h){const l=r("Breadcrumbs"),a=r("ob-skeleton"),i=r("PostStats"),p=r("LinkBox"),m=r("LinkCategoryList"),T=r("LinkList"),C=r("Comment"),L=P("scroll-spy");return e(),o("div",null,[c(l,{current:t.pageTitle},null,8,["current"]),n("div",qt,[n("div",Et,[t.pageTitle?(e(),o("h1",Nt,k(t.pageTitle),1)):(e(),_(a,{key:1,class:"post-title text-white uppercase",width:"100%",height:"clamp(1.2rem, calc(1rem + 3.5vw), 4rem)"})),n("div",Vt,[c(i,{"post-word-count":t.pageData.count_time.symbolsCount,"post-time-count":t.pageData.count_time.symbolsTime,"post-title":t.pageData.title,"current-path":t.currentPath,"plugin-configs":t.pluginConfigs,ref:"postStatsRef"},null,8,["post-word-count","post-time-count","post-title","current-path","plugin-configs"])])]),c(p,{"gradient-background":t.gradientBackground,data:t.pageData.avatarWall,onOnApplyClicked:s[0]||(s[0]=Ut=>t.jumpToComments())},null,8,["gradient-background","data"]),t.pageData.categoryMode===!0?(e(),_(m,{key:0,links:t.pageData.data},null,8,["links"])):(e(),_(T,{key:1,links:t.pageData.data},null,8,["links"])),n("div",Ht,[t.pageData.content?j((e(),o("div",{key:0,class:"post-html",innerHTML:t.pageData.content},null,8,Jt)),[[L,{sectionSelector:"h1, h2, h3, h4, h5, h6"}]]):(e(),o("div",Ft,[c(a,{tag:"div",count:1,height:"36px",width:"150px",class:"mb-6"}),It,c(a,{tag:"div",count:35,height:"16px",width:"100px",class:"mr-2"}),Wt,Gt,c(a,{tag:"div",count:25,height:"16px",width:"100px",class:"mr-2"})]))]),t.pageData.title&&t.pageData.text&&t.pageData.uid?(e(),o("div",Kt,[c(C,{title:t.pageData.title,body:t.pageData.text,uid:t.pageData.uid},null,8,["title","body","uid"])])):R("",!0)])])}const se=v(Ot,[["render",Qt]]);export{se as default};
